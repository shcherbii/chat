{% load chat_extras %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://kit.fontawesome.com/5394dd9b9a.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
    <title>Document</title>
</head>
<body >
    <div class="flex h-screen antialiased text-gray-800">
        <div class="flex flex-row h-full w-full overflow-x-hidden">
          <div class="flex flex-col py-8 pl-6 pr-2 w-64 bg-white flex-shrink-0">
            <a href="{% url 'index' %}" class="flex flex-row items-center justify-center h-12 w-full">
              
              <div
                class="flex items-center justify-center rounded-2xl text-indigo-700 bg-indigo-100 h-10 w-10"
              >
                <svg
                  class="w-6 h-6"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"
                  ></path>
                </svg>
              </div>
              <div class="ml-2 font-bold text-2xl">Chat</div>
            </a>
            <div
              class="flex flex-col items-center bg-indigo-100 border border-gray-200 mt-4 w-full py-6 px-4 rounded-lg"
            >
              <a class="h-20 w-20 rounded-full border overflow-hidden" href="{% url 'profile' request.user.username %}">
                <img
                  src="{{ request.user.profile.photo.url }}"
                  alt="Avatar"
                  class="h-full w-full"
                />
              </a>
              <div class="text-sm font-semibold mt-2">{{ request.user.username }}</div>
              <div class="flex flex-row items-center text-xs text-gray-500 ">
                <p>{{ request.user.profile.decs }}</p></div>
              <div class="flex flex-row items-center mt-3">
                <!-- <div
                  class="flex flex-col justify-center h-4 w-8 bg-indigo-500 rounded-full"
                >
                  <div class="h-3 w-3 bg-white rounded-full self-end mr-1"></div>
                </div> -->
                <div  class="leading-none ml-1 text-xs"><a href="{% url 'logout' %}">Sign out <i class="fa-solid fa-arrow-right-from-bracket"></i></a></div>
              </div>
            </div>
            <div class="relative py-4 ">
                  <form class="card card-sm">
                      <div class="relative">
                        <input type="text" name="search_chat" class="w-full border h-12 shadow p-4 rounded-2xl" placeholder="search">
                        <button type="submit">
                          <i class="fa-solid fa-magnifying-glass fa-lg h-5 w-5 absolute top-6 right-3 fill-current"></i>
                            <!-- <svg class="text-teal-400 h-5 w-5 absolute top-3.5 right-3 fill-current"
                                xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
                                x="0px" y="0px" viewBox="0 0 56.966 56.966"
                                style="enable-background:new 0 0 56.966 56.966;" xml:space="preserve">
                                <path
                                    d="M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z">
                                </path>
                            </svg> -->
                      </button>
                      </div>
                  </form>
            </div>

            {% chat_rooms request.user request %}
            
          </div>
          
          {% block body %}

          {% endblock %}          
        </div>
      </div>


      <!-- <button onclick="togglediv('item')">Toggle div</button>
      <div>

      </div>
      <div class="red-square"  id="item">
          <a href="{% url 'index' %}"
              class="py-8 px-8 max-w-sm mx-auto bg-white rounded-xl shadow-lg space-y-2 sm:py-4 sm:flex sm:items-center sm:space-y-0 sm:space-x-6">
              <img class="block mx-auto h-24 rounded-full sm:mx-0 sm:shrink-0" src="https://tailwindcss.com/img/erin-lindford.jpg" alt="Woman's Face">
              <div class="text-center space-y-2 sm:text-left">
                  <div class="space-y-0.5">
                      <p class="text-lg text-black font-semibold">
                          Erin Lindford
                      </p>
                      <p class="text-slate-500 font-medium">
                          Product Engineer
                      </p>
                  </div>
                  <button class="px-4 py-1 text-sm text-purple-600 font-semibold rounded-full border border-purple-200 hover:text-white hover:bg-purple-600 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2">Message</button>
              </div>
            </a>
      </div> -->
</body>
<style>
  .red-square {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
</style>
<script>
    function togglediv(id) {
        var div = document.getElementById(id);
        div.style.display = div.style.display == "none" ? "block" : "none";
    }
</script>
</html>